<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>이게 뭐냐고? 나도 몰라</title>
    <style>
        *,
        html,
        body {
            margin: 0;
            padding: 0;
        }

        body {
            /*            background-image: url("bg.jpg");*/
            background-color: darkgrey;
        }

        img {
            width: 100%;
            height: auto;
        }

        form {
            margin-top: 20%;
            text-align: center;
        }

        #box {
            width: 30%;
            height: 130px;
            font-size: 3rem;
            font-weight: bold;
            border: 3px solid red;
            outline: none;
            margin: 0 auto;
            text-align: center;
        }

        #btn {
            display: none;
        }

    </style>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
</head>

<body>
    <!--    <img src="bg.jpg" alt="">-->
    <form method="GET" action="/formpost">
        <input id="box" type="text" name="textfield" placeholder="Type Something" />
        <!--        <input id="btn" type="submit" name="submitbutton" value="Submit" />-->
        <input id="submit" type="button" name="submitbutton" value="Submit" />
    </form>
    <script>
        window.onload = function() {
            document.getElementById("box").focus();
        };

        $(document).ready(function() {
            //            $.ajax({
            //                url: "./undecided",
            //                dataType: 'json',
            //                success: function(data) {
            //                    alert("Temperature is: " + );
            //                },
            //                error: function() {
            //                    alert("error");
            //                }
            //            });

            /////////////////////////////////////////
            /////////////////////////////////////////
            //            $.ajax({
            //                url: "/undecided",
            //                type: 'get',
            //                //data: {objectstate: JSON.stringify(objectstate)}
            //            }).done(function(data) {
            //                console.log('data from server', data)
            //
            //            });
            //////////////////////////////////////////////
            //////////////////////////////////////////////

            $('#submit').click(
                function() {
                    $.ajax({
                        url: "/formpost?textfield=" + $('#box').val(),
                        dataType: 'json',
                        success: function(data) {
                            console.log(data);
                            for (var i = 0; i < data.length; i++) {
                                $('body').append(data[i]);
                                //console.log(data[i]);
                            }
                        },
                        error: function() {
                            alert("error");
                        }
                    });
                });
        });

    </script>
</body>

</html>
